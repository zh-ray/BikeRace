<h1>自行车赛事日历</h1>
<h2>泛长三角地区</h2>
<h3>业余可报名</h3>

<!-- 添加小字 -->
<p style="font-size: 12px; color: #cc1a1a; margin-top: 10px; font-family: Arial, sans-serif;">
    *具体赛事章程以官方为准,补录名额请关注赛事官方通知
</p>

<style>
    /* 表格样式 */
    table {
        width: 100%;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
    }

    th,
    td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    /* 首列加粗字体 */
    th:first-child,
    td:first-child {
        font-weight: bold;
        /* 字体加粗 */
    }

    #toggleViewButton {
        position: fixed;
        /* 固定在屏幕上 */
        top: 20px;
        /* 距离顶部 20px */
        right: 20px;
        /* 距离右侧 20px */
        padding: 10px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        z-index: 1000;
        /* 确保按钮在其他内容之上 */
    }

    /* 卡片样式 */
    .card-container {
        display: none;
        /* 默认隐藏卡片容器 */
        flex-wrap: wrap;
        gap: 16px;
        margin-top: 20px;
        font-family: Arial, sans-serif;
    }

    .card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        width: 100%;
        box-sizing: border-box;
    }

    .card h4 {
        margin: 0 0 8px;
        font-size: 16px;
    }

    .card p {
        margin: 4px 0;
        font-size: 14px;
    }
</style>

<div style="margin-bottom: 20px;">
    <button id="toggleViewButton"
        style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
        切换到卡片视图
    </button>
</div>

<div style="overflow-x: auto;">
    <table>
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th>赛事简称</th>
                <th>赛事名称</th>
                <th>赛事地点</th>
                <th>赛事时间</th>
                <th>赛事里程</th>
                <th>报名时间</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <!-- 动态生成的表格内容 -->
        </tbody>
    </table>
</div>

<!-- 卡片展示区域 -->
<div class="card-container"></div>

<!-- 分页控件 -->
<div id="pagination" style="text-align: center; margin-top: 20px;"></div>

<h3 style="margin-top: 40px;">留言区域（如有补充，欢迎留言）</h3>
<form id="feedbackForm" style="margin-top: 20px; font-family: Arial, sans-serif;" onsubmit="submitMessage(event)">
    <textarea id="message" name="message" rows="5" required
        style="width: 100%; padding: 8px; margin-bottom: 16px; border: 1px solid #ddd; border-radius: 4px;"></textarea>

    <button type="submit"
        style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">提交留言</button>
</form>

<script>
    async function submitMessage(event) {
        event.preventDefault();

        const message = document.getElementById('message').value;

        try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbw9AkZWAB8AvzAGOCpZf1ewfpPsd5vNp0GaJte3o58pep2Aw6d5hXoS8LtGmWTmAywc/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ message }),
            });

            alert('留言已成功提交！');
            document.getElementById('feedbackForm').reset();
        } catch (error) {
            console.error('Error:', error);
            alert('提交失败，请稍后再试。');
        }
    }
</script>
<script src="addRace.js"></script>